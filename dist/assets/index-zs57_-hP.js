import{j as F,e as I,u as z}from"./index-C2dA9_fw.js";/* empty css                *//* empty css                  *//* empty css                     *//* empty css                 */import{v as x,x as B,H as N,aH as U,y as p,r as f,aE as M,W as T,E as A,I as K,O as a,B as d,u as s,F as i,ah as O,S as H,K as W,az as $,aA as j}from"./vue-NMw_sZBQ.js";import{_ as D}from"./index.vue_vue_type_script_setup_true_lang-BxHPzBsn.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as G,W as J,C as L,q as P,E as Q}from"./element-CCxFC_nv.js";import"./vxe-Dt6qjHuJ.js";/* empty css                        *//* empty css                     *//* empty css                   */const X="/test/assets/logo-text-2-y4GmJqxb.png";function Y(){return F({url:"auth/captcha",method:"get"})}function Z(o){return F({url:"auth/login",method:"post",data:o})}const ee=x({__name:"Owl",props:{closeEyes:{type:Boolean}},setup(o){const r=o;return(u,n)=>(p(),B("div",{class:N(["owl",{"owl-password":r.closeEyes}])},[...n[0]||(n[0]=[U('<div class="hand-down-left" data-v-9d98ae89></div><div class="hand-down-right" data-v-9d98ae89></div><div class="hand-up-left" data-v-9d98ae89></div><div class="hand-up-right" data-v-9d98ae89></div><div class="close-eyes" data-v-9d98ae89></div>',5)])],2))}}),se=V(ee,[["__scopeId","data-v-9d98ae89"]]);function oe(){const o=f(!1);return{isFocus:o,handleBlur:()=>{o.value=!1},handleFocus:()=>{o.value=!0}}}const te={class:"login-container"},ae={class:"login-card"},re={class:"content"},ne=x({__name:"index",setup(o){const r=$(),u=j(),n=I(),E=z(),{isFocus:C,handleBlur:b,handleFocus:k}=oe(),_=M("loginFormRef"),c=f(!1),g=f(""),t=T({username:"admin",password:"12345678"}),q={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"长度在 8 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]};function v(){_.value?.validate(l=>{if(!l){Q.error("表单校验不通过");return}c.value=!0,Z(t).then(({data:e})=>{n.setToken(e.token),u.push(r.query.redirect?decodeURIComponent(r.query.redirect):"/")}).catch(()=>{h(),t.password=""}).finally(()=>{c.value=!1})})}function h(){g.value="",Y().then(l=>{g.value=l.data})}return h(),(l,e)=>{const w=L,y=J,R=P,S=G;return p(),B("div",te,[s(E).showThemeSwitch?(p(),A(D,{key:0,class:"theme-switch"})):K("",!0),a(se,{"close-eyes":s(C)},null,8,["close-eyes"]),d("div",ae,[e[3]||(e[3]=d("div",{class:"title"},[d("img",{src:X})],-1)),d("div",re,[a(S,{ref_key:"loginFormRef",ref:_,model:s(t),rules:q,onKeyup:O(v,["enter"])},{default:i(()=>[a(y,{prop:"username"},{default:i(()=>[a(w,{modelValue:s(t).username,"onUpdate:modelValue":e[0]||(e[0]=m=>s(t).username=m),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1",size:"large"},null,8,["modelValue"])]),_:1}),a(y,{prop:"password"},{default:i(()=>[a(w,{modelValue:s(t).password,"onUpdate:modelValue":e[1]||(e[1]=m=>s(t).password=m),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2",size:"large","show-password":"",onBlur:s(b),onFocus:s(k)},null,8,["modelValue","onBlur","onFocus"])]),_:1}),a(R,{loading:s(c),type:"primary",size:"large",onClick:H(v,["prevent"])},{default:i(()=>[...e[2]||(e[2]=[W(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"])])])])}}}),ye=V(ne,[["__scopeId","data-v-3f969ee2"]]);export{ye as default};
