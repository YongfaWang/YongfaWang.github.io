import{j as y,e as I,u as z}from"./index-Bni88ulI.js";/* empty css                *//* empty css                  *//* empty css                     *//* empty css                 */import{v as F,x as B,H as N,aH as U,y as p,r as f,aE as M,W as T,E as A,I as K,O as a,B as i,u as e,F as d,ah as O,S as H,K as W,az as $,aA as j}from"./vue-NMw_sZBQ.js";import{_ as D}from"./index.vue_vue_type_script_setup_true_lang-BaZ8wuBx.js";import{V as G,W as J,C as L,X,Y,q as P,E as Q}from"./element-DEJX7W-M.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vxe-BsGI8rv1.js";/* empty css                        *//* empty css                     *//* empty css                   */const Z="/v3-admin-vite/assets/logo-text-2-y4GmJqxb.png";function ee(){return y({url:"auth/captcha",method:"get"})}function oe(s){return y({url:"auth/login",method:"post",data:s})}const se=F({__name:"Owl",props:{closeEyes:{type:Boolean}},setup(s){const r=s;return(u,n)=>(p(),B("div",{class:N(["owl",{"owl-password":r.closeEyes}])},[...n[0]||(n[0]=[U('<div class="hand-down-left" data-v-9d98ae89></div><div class="hand-down-right" data-v-9d98ae89></div><div class="hand-up-left" data-v-9d98ae89></div><div class="hand-up-right" data-v-9d98ae89></div><div class="close-eyes" data-v-9d98ae89></div>',5)])],2))}}),te=V(se,[["__scopeId","data-v-9d98ae89"]]);function ae(){const s=f(!1);return{isFocus:s,handleBlur:()=>{s.value=!1},handleFocus:()=>{s.value=!0}}}const re={class:"login-container"},ne={class:"login-card"},le={class:"content"},ie=F({__name:"index",setup(s){const r=$(),u=j(),n=I(),E=z(),{isFocus:k,handleBlur:C,handleFocus:b}=ae(),_=M("loginFormRef"),c=f(!1),g=f(""),t=T({username:"admin",password:"12345678",code:""}),q={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"长度在 8 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]};function v(){_.value?.validate(l=>{if(!l){Q.error("表单校验不通过");return}c.value=!0,oe(t).then(({data:o})=>{n.setToken(o.token),u.push(r.query.redirect?decodeURIComponent(r.query.redirect):"/")}).catch(()=>{h(),t.password=""}).finally(()=>{c.value=!1})})}function h(){g.value="",ee().then(l=>{g.value=l.data})}return h(),(l,o)=>{const w=L,x=J,R=P,S=G;return p(),B("div",re,[e(E).showThemeSwitch?(p(),A(D,{key:0,class:"theme-switch"})):K("",!0),a(te,{"close-eyes":e(k)},null,8,["close-eyes"]),i("div",ne,[o[3]||(o[3]=i("div",{class:"title"},[i("img",{src:Z})],-1)),i("div",le,[a(S,{ref_key:"loginFormRef",ref:_,model:e(t),rules:q,onKeyup:O(v,["enter"])},{default:d(()=>[a(x,{prop:"username"},{default:d(()=>[a(w,{modelValue:e(t).username,"onUpdate:modelValue":o[0]||(o[0]=m=>e(t).username=m),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":e(X),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),a(x,{prop:"password"},{default:d(()=>[a(w,{modelValue:e(t).password,"onUpdate:modelValue":o[1]||(o[1]=m=>e(t).password=m),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":e(Y),size:"large","show-password":"",onBlur:e(C),onFocus:e(b)},null,8,["modelValue","prefix-icon","onBlur","onFocus"])]),_:1}),a(R,{loading:e(c),type:"primary",size:"large",onClick:H(v,["prevent"])},{default:d(()=>[...o[2]||(o[2]=[W(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"])])])])}}}),Fe=V(ie,[["__scopeId","data-v-a034e8d8"]]);export{Fe as default};
